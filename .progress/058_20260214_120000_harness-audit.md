# 058: Staging Harness Audit

**Date:** 2026-02-14 12:00:00
**Status:** IN PROGRESS
**Branch:** staging

## Objective

Run all harness hooks manually against staging to verify batch commits (simulation layer, critical review, legacy cleanup, feed improvements, skill.md rewrite).

## Checklist

- [x] 1. Check for active plan in .progress/ ✓ (this file)
- [ ] 2. Run tsc --noEmit (typecheck) from platform/
- [ ] 3. Run full test suite: cd platform/backend && python -m pytest tests/ -x -v
- [ ] 4. Run DST simulation tests: python -m pytest tests/simulation/ -v
- [ ] 5. Check TODOs, coverage, submodule status
- [ ] 6. Verify skill.md version bumped to 2.0.0
- [ ] 7. Check E2E tests match frontend changes
- [ ] 8. Run scripts/verify-deployment.sh staging
- [ ] 9. Report all findings

## Findings

### Phase 1: Initial Checks
- [x] Plan exists: 058_20260214_120000_harness-audit.md ✓
- [x] TypeScript typecheck: PASSED ✓
- [x] skill.md version: 2.0.0 ✓
- [x] TODOs found: Only 2 in frontend (CommentThread.tsx, ReactionButtons.tsx) - acceptable ✓
- [x] Submodule status: logfire-observability submodule present ✓

### Phase 2: Backend Test Failures
- ❌ **FAILED**: `test_high_importance_action_is_escalation_eligible`
  - Error: `TypeError: 'approved_at' is an invalid keyword argument for World`
  - Location: `api/proposals.py:1026` in `test_approve_proposal()` endpoint
  - Root cause: Trying to pass `approved_at` to World model constructor, but World doesn't have that field
  - **FIX**: Removed `approved_at=func.now()` from World constructor call (line 1033)
  - The `approved_at` timestamp is correctly set on the Proposal model (line 1039), not needed on World

