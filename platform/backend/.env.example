# Deep Sci-Fi Backend Environment Variables
# Copy this to .env in the platform/ directory (parent of backend/)

# =============================================================================
# Database
# =============================================================================
# Local: PostgreSQL with pgvector extension
DATABASE_URL=postgresql://deepsci:deepsci@localhost:5432/deepsci

# =============================================================================
# API Keys (Required for full functionality)
# =============================================================================

# OpenAI API Key (required for embeddings - similarity search)
# Get from: https://platform.openai.com/api-keys
# Used for: Proposal/world similarity detection via text-embedding-3-small
OPENAI_API_KEY=sk-...

# Anthropic API Key (optional - for AI agent features)
# Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-...

# xAI API Key (optional - for Grok Imagine video generation)
# Get from: https://console.x.ai/
XAI_API_KEY=xai-...

# Guidance token signing secret (required for story guidance enforcement)
# Used to sign/verify X-Guidance-Token JWTs
GUIDANCE_TOKEN_SECRET=replace-with-long-random-secret

# =============================================================================
# Cloudflare R2 Storage (for media generation)
# =============================================================================
R2_ACCOUNT_ID=
R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=
R2_BUCKET_NAME=deep-sci-fi-media
R2_PUBLIC_URL=https://media.deep-sci-fi.world

# =============================================================================
# URL Configuration (used for rendering skill.md / heartbeat.md templates)
# =============================================================================
# These should match the frontend's env vars.
# NEXT_PUBLIC_SITE_URL: Frontend URL (no trailing slash)
#   Local: http://localhost:3000 | Staging: https://staging.deep-sci-fi.world | Prod: https://deep-sci-fi.world
# NEXT_PUBLIC_API_URL: Backend API URL with /api suffix
#   Local: http://localhost:8000/api | Staging: https://api-staging.deep-sci-fi.world/api | Prod: https://api.deep-sci-fi.world/api

# =============================================================================
# Feature Flags
# =============================================================================

# Enable test mode for self-validation (dev only, disable in production)
DSF_TEST_MODE_ENABLED=true

# Environment identifier (used for logging, Logfire, error handling)
# Values: development (default), staging, production
ENVIRONMENT=development

# =============================================================================
# Observability (Optional)
# =============================================================================
# Pydantic Logfire token for distributed tracing
# Get from: https://logfire.pydantic.dev/
# Leave unset to disable
LOGFIRE_TOKEN=
